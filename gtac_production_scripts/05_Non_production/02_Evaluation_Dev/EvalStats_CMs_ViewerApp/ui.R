ui = fluidPage(
  h1(strong("TreeMap Production: Zonal Evaluation Stats and Confusion Matrix (CM) Viewer")),
  h3(code("GTAC | v0.9 -- DEV")),
  h3(tags$i("FOR INTERNAL USE")),
  hr(), 
  sidebarLayout(
    sidebarPanel(h3(tags$b("1. Evaluation parameters:")), 
                 numericInput(inputId = "zone_num", label = "Select zone number:", value = 1, min = 1, max = 99), 
                 selectInput(inputId = "project_name", label = "Select project name:", choices = c("2020_Production","2022_Production", "2022_Production_newXtable")),
                 # selectInput(inputId = "output_Name", label = "Select output name:", choices = c("2022_GTAC_Production")),
                 selectInput(inputId = "eval_type", label = "Select evaluation type:", choices =  c("model_eval", "TargetLayerComparison"), selected = "TargetLayerComparison"), 
                 p(),
                 actionButton("load", tags$b("Load evaluation data"), style = "color: white; background-color: green;"),
                 hr(),
                 h3(tags$b("2. Select evaluation variable: ")),
                 fluidRow(column(width = 6, selectInput(inputId = "eval_vars", label = "Select variables to evaluate:", choices = c("evc", "evh", "evt_gp", "disturb_code", "disturb_code_bin")))), 
                 actionButton("create", tags$b("Create CM"), style = "color: white; background-color: green;"),
                 hr(),
                 h3(tags$b("3. OPTIONAL: display other evaluation attributes: ")),
                 "Frequency", code("(freq)"), "and normalized frequency", code("(freq_norm)"), "of classes, accuracy metrics of classes", code("(classes)"), "and overall metrics", code("(overall)"),
                 p(),
                 fluidRow(column(width = 6, selectInput(inputId = "metric", label = "Select evaluation metric: ", choices = c("freq", "freq_norm", "classes", "overall"), selected = "classes"))), 
                 actionButton("display", tags$b("Generate metric table"), style = "color: white; background-color: green;"),
                 p(), 
                 actionButton("generate", tags$b("Generate interactive plot (ONLY for metric = classes)"), style = "color: ForestGreen; background-color: khaki;"),
                 p(),
                 hr(),
                 h3(tags$b("X Table row finder:")),
                 numericInput(inputId = "TM_ID", label = "Enter TM ID:", value=21348),
                 actionButton("getXTableRow", tags$b("Get X Table row for input TM_ID"), style = "color: white; background-color: green;"),
                 p(),
                 tableOutput("getXTableRow_out"),
                 width = 3), 
    mainPanel(tags$head(
      tags$style(HTML("hr {border-top: 2px solid #000000;}"))
    ),
    h4("General statistics for imputation:"),
    tags$b(">  Run name: "), textOutput("run_name", inline = TRUE),
    p(),
    tags$b(">  Unique plots imputed in zone: "), textOutput("unique_pltsInZone", inline = TRUE),
    p(),
    tags$b(">  Plots available in zone: "), textOutput("plts_availableInZone", inline = TRUE),
    p(),
    tags$b(">  Percent of available plots imputed: "), textOutput("percent_availablePlts_imputedInZone", inline = TRUE), 
    p(),
    # imageOutput("RF_varImpPlot"),
    # p(),
    tags$b(">  Overall Accuracies: "), tableOutput("oaSummaryTable"),
    hr(),
    uiOutput("outputCM"),
    DT::dataTableOutput("evt_gp_remapTable"),
    hr(), 
    DT::dataTableOutput("displayMetricTable"),
    hr(),
    p(), 
    plotly::plotlyOutput("classesPlot", 
                         width = "1200px", 
                         height = "900px"),
    width = 9
    ), 
    position = "left"
  )
)